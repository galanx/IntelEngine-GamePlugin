name: DeliverMessage
description: >
  Go TALK TO someone. Carry words to a person â€” relay a message, have a conversation, or pass along a request.

  TRIGGER: Any intent to communicate something to another NPC.

  Examples:
  - "go tell Alvor to come to the inn", "warn Adrianne about the bandits"
  - "go talk to her", "go speak to Camilla", "go chat with him"
  - "let Nazeem know I'm looking for him", "tell X to meet me at Y"
  - You have something to say to someone and need to go find them

  DECISION RULES:
  - Intent is to SAY something or TALK to someone = DeliverMessage
  - Intent is to physically BRING someone back = FetchPerson, NOT this
  - Intent is to WALK someone to a place = EscortTarget, NOT this
  - Destination is a PLACE with no person involved = GoToLocation, NOT this
  - "tell X to come LATER" = still DeliverMessage (you relay the request now)

  If the message asks the target to meet somewhere, fill meetLocation and meetTime.

questEditorId: IntelEngine
scriptName: IntelEngine_NPCTasks
executionFunctionName: DeliverMessage

parameterMapping:
  - type: speaker
    name: akAgent
    description: You (the messenger)
  - type: dynamic
    name: targetName
    description: >
      Who to deliver the message to. Must be a real NPC name.
      Examples: "Jarl Balgruuf", "Nazeem", "Adrianne"
  - type: dynamic
    name: msgContent
    description: >
      The message to deliver. What you will tell them.
      Keep it clear and concise.
  - type: dynamic
    name: meetLocation
    description: >
      If the message asks the target to MEET somewhere, provide the location.
      Examples: "Bannered Mare", "Dragonsreach", "Alvor's home"
      If NOT a meeting request: set this to "none"
  - type: dynamic
    name: meetTime
    description: >
      If the message includes a MEETING TIME, provide it.
      Examples: "at noon", "after sunset", "tonight"
      If NOT a meeting request: set this to "none"

eligibilityRules:
  - conditions:
      - decoratorName: is_in_combat
        arguments: ["currentActor"]
        comparisonOperator: "=="
        expectedValue: false
    logicalOperator: "AND"
    required: true

eventString: "{{ actor.name }} already left to deliver a message to {{ targetName }} (task in progress)"
isShortLived: false
enabled: true
defaultPriority: 6
tags: []
