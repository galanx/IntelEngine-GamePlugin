name: ScheduleMeeting
description: >
  Schedule a meeting at a PLACE for a FUTURE TIME. You stay put now and go when the time comes.

  SCAN THE CONVERSATION for any hint of a future meeting. Use this action whenever:
  - Someone says "see you tomorrow", "see you tonight", "until tomorrow", "until next time"
  - Someone says "meet me at X", "let's meet at X", "want to meet at the tavern?"
  - Someone agrees to a future meeting: "sure, tomorrow evening", "alright, I'll be there"
  - Someone suggests a time: "how about at sunset?", "noon works", "let's say morning"
  - You want to see someone again: "I'll come find you tomorrow", "same time tomorrow?"
  - A farewell implies a future meeting: "see you at the inn", "tomorrow then"
  - ANY combination of a future time + a place (explicit or implied) in the conversation
  - You decide to go somewhere later on your own (returning home at dusk, errands tomorrow)

  If a place was discussed but not explicitly named, use the most logical location from context
  (e.g., if you're at the Bannered Mare and they say "see you tomorrow", use "Bannered Mare").

  BEFORE scheduling: Check your "Scheduled Commitment" section. If you already have a meeting
  with this person at the same time and place, do NOT schedule a duplicate.

  NOT GoToLocation (that's for going RIGHT NOW, not later).
  NOT ScheduleDelivery/ScheduleFetch (those involve going to a PERSON, not a place).

  IMPORTANT: Use natural time descriptions. The system understands:
  - Times of day: dawn, sunrise, morning, noon, afternoon, evening, sunset, dusk, night, midnight
  - Relative times: tonight, tomorrow, soon, shortly
  - Relative hours: "in 2 hours", "in 1 hour", "a few hours", "in half an hour"
  - Clock times: 3pm, 6am, etc.

questEditorId: IntelEngine
scriptName: IntelEngine_Schedule
executionFunctionName: ScheduleMeeting

parameterMapping:
  - type: speaker
    name: akNPC
    description: You (the NPC scheduling the meeting)
  - type: dynamic
    name: destination
    description: >
      Where to go. Examples:
      - "Bannered Mare"
      - "Dragonsreach"
      - "the marketplace"
      - "my home" (if you have one)
      - "the temple"
  - type: dynamic
    name: timeCondition
    description: >
      When to arrive. IMPORTANT: If a relative time is mentioned
      (e.g., "in 2 hours", "in 3 hours"), pass those words EXACTLY as-is.
      Do NOT convert relative times to absolute times like "dawn" or "morning".

      Relative times (pass verbatim):
      - "in 2 hours"
      - "in 1 hour"
      - "in 3 hours"
      - "in half an hour"
      - "soon"

      Absolute times (when a specific time of day is named):
      - "at dawn"
      - "at noon"
      - "in the evening"
      - "after sunset"
      - "tonight"
      - "tomorrow morning"

eligibilityRules:
  - conditions:
      - decoratorName: is_in_combat
        arguments: ["currentActor"]
        comparisonOperator: "=="
        expectedValue: false
    logicalOperator: "AND"
    required: true

eventString: "{{ actor.name }} plans to be at {{ destination }} {{ timeCondition }}"
isShortLived: false
enabled: true
defaultPriority: 6
tags: []
