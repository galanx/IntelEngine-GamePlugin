name: ScheduleDelivery
description: >
  Schedule delivering a message at a FUTURE TIME. Delayed version of DeliverMessage â€” you stay put now and go later.

  Use when:
  - You decide to tell someone something later: "I should warn Adrianne after sunset"
  - Someone (player or NPC) asks you to deliver a message later, not right now
  - You want to pass along information you just learned at a better time
  - Another NPC asks you to relay a message to someone at a specific time
  - You want to arrange a meeting by sending word ahead: "Tell Jarl Balgruuf
    to meet me at Dragonsreach at noon"

  This schedules the delivery for later. You will NOT leave immediately.
  When the time comes, you will automatically go deliver the message.

  IMPORTANT: The target must be a person who actually exists.
  The system uses fuzzy matching, so minor typos are okay.

questEditorId: IntelEngine
scriptName: IntelEngine_Schedule
executionFunctionName: ScheduleDelivery

parameterMapping:
  - type: speaker
    name: akNPC
    description: You (the NPC who will deliver the message later)
  - type: dynamic
    name: targetName
    description: >
      The name of the person to deliver the message to. Examples:
      - "Nazeem"
      - "Jarl Balgruuf"
      - "Adrianne Avenicci"
      Do NOT make up names that don't exist in Skyrim.
  - type: dynamic
    name: msgContent
    description: >
      The message to deliver. Summarize what needs to be communicated.
      Keep it concise but include the key information.
  - type: dynamic
    name: timeCondition
    description: >
      When to deliver the message. Natural language time expression.
      Examples: "at dawn", "after sunset", "in 2 hours",
      "tonight", "tomorrow morning", "at midday"
  - type: dynamic
    name: meetLocation
    description: >
      If the message includes a meeting request, provide the location
      name (e.g., "Bannered Mare", "Dragonsreach").
      The recipient will be scheduled to travel there after receiving
      the message. If NOT a meeting request: you MUST set this to "none"
  - type: dynamic
    name: meetTime
    description: >
      If the message includes a meeting time, provide the time condition
      (e.g., "at noon", "after sunset").
      The recipient will be scheduled to arrive at that time.
      If NOT a meeting request: you MUST set this to "none"

eligibilityRules:
  - conditions:
      - decoratorName: is_in_combat
        arguments: ["currentActor"]
        comparisonOperator: "=="
        expectedValue: false
    logicalOperator: "AND"
    required: true

eventString: "{{ actor.name }} plans to deliver a message to {{ targetName }} {{ timeCondition }}"
isShortLived: false
enabled: true
defaultPriority: 5
tags: []
